webpackJsonp([10],{0:function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),l=t(a),i=n(17),o=t(i),s=n(159),u=t(s),c=n(584),d=t(c),f=n(586),p=t(f),h=n(13),m=t(h),y=n(11);o["default"].render(l["default"].createElement(y.Grid,null,l["default"].createElement(y.Row,{className:"show-grid"},l["default"].createElement(y.Col,{md:10},l["default"].createElement(y.Panel,{header:form_title},l["default"].createElement("div",{id:"tableRoot"},"loading..."))),l["default"].createElement(y.Col,{md:10}))),document.getElementById("root"));var g=e("#tableRoot").get(0);console.log(m["default"].getQueryString("state")),"invoiceList"==pageParas.pageType?o["default"].render(l["default"].createElement(d["default"],r({},pageParas,{keyword:m["default"].getQueryString("q"),state:m["default"].getQueryString("state")})),g):"reimburseList"==pageParas.pageType?o["default"].render(l["default"].createElement(p["default"],r({},pageParas,{keyword:m["default"].getQueryString("q"),state:m["default"].getQueryString("state")})),g):o["default"].render(l["default"].createElement(u["default"],r({},pageParas,{keyword:m["default"].getQueryString("q"),state:m["default"].getQueryString("state")})),g)}).call(t,n(16))},159:function(e,t,n){(function(e,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){return E(k(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var u=n(21),c=a(u),d=n(19),f=a(d),p=n(1),h=a(p),m=n(20),y=a(m),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(11),b=n(13),w=(a(b),{Row:{displayName:"Row"},PageList:{displayName:"PageList"}}),E=(0,y["default"])({filename:"D:/tools/tools/components/PageList.js",components:w,locals:[e],imports:[h["default"]]}),k=(0,f["default"])({filename:"D:/tools/tools/components/PageList.js",components:w,locals:[],imports:[h["default"],c["default"]]}),_=s("Row")(function(e){function t(e){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),g(t,[{key:"editRow",value:function(e){window.location.href=this.props.editUrl+"/"+this.props.data[this.props.identifier]+"?pn="+window.location.hash.substring(1)}},{key:"render",value:function(){var e=this.props.filter,t=this.props.data,n=e.map(function(e){return h["default"].createElement("td",{style:{verticalAlign:"middle"}},t[e])});this.props.editUrl&&n.push(h["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},h["default"].createElement(v.Button,{onClick:this.editRow.bind(this)},this.props.editButtonTitle||"处理")));var r;return"处理中"==t.state?r="danger":"变更中"==t.state&&(r="warning"),h["default"].createElement("tr",{className:r},h["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},this.props.rowNo),n,h["default"].createElement("td",{style:{visibility:"hidden",width:"0px",padding:0,margin:0}},h["default"].createElement("img",{style:{"float":"left",minHeight:"40px",visibility:"hidden"}})))}}]),t}(p.Component)),x=s("PageList")(function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={activePage:n.props.activePage||1,totalPage:1,pageSize:10,rowList:[],taskState:n.props.state},n.curpage=n.props.activePage,n.columnKeys=[],n.columnValues=[];for(var r in n.props.columnFilter)n.columnKeys.push(n.props.columnFilter[r].name),n.columnValues.push(n.props.columnFilter[r].alias);return n.vhs=n.columnValues.map(function(e){return h["default"].createElement("th",{style:{textAlign:"center"}},e)}),n.props.editUrl&&n.vhs.push(h["default"].createElement("th",{style:{textAlign:"center"}},"操作")),n}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this.handlePageSelect(this.state.activePage)}},{key:"fetchList",value:function(e){r.ajax({type:"get",dataType:"json",url:this.props.url+"/"+e,success:function(e){this.setState({totalPage:e.totalPage,pageSize:e.pageSize||10,rowList:e.data})}.bind(this),error:function(e){alert("操作失败")}})}},{key:"handlePageSelect",value:function(e){this.setState({activePage:e}),window.location.hash=e;var t=""+e;this.props.keyword&&(t+="?q="+this.props.keyword,r("input[name=q]").val(this.props.keyword)),this.state.taskState&&(t+=t.lastIndexOf("?")>-1?"&":"?",t+="state="+this.state.taskState),this.fetchList(t)}},{key:"default_success_callback",value:function(e){var t;t=1==e.status?e.message||"操作成功":e.message||"操作失败",alert(t)}},{key:"directToAddPage",value:function(){window.location.href=this.props.addUrl}},{key:"getSelector",value:function(){if(!("selector"in this.props))return"";var e=this.props.selector.value.map(function(e){return h["default"].createElement("option",{value:e.value},e.name)});return h["default"].createElement(v.FormControl,{componentClass:"select",placeholder:"type",name:this.props.selector.name,value:this.state.taskState,onChange:this.taskStateChange.bind(this)},e)}},{key:"taskStateChange",value:function(e){this.setState({taskState:e.target.value})}},{key:"genRows",value:function(){var e=this.props.identifier,t=this,n=(this.state.activePage-1)*this.state.pageSize+1;return this.state.rowList?this.state.rowList.map(function(r){return h["default"].createElement(_,{data:r,rowNo:n++,filter:t.columnKeys,identifier:e,editUrl:t.props.editUrl})}):"数据列表为空！"}},{key:"genAddButton",value:function(){if(this.props.addUrl)return h["default"].createElement(v.Button,{onClick:this.directToAddPage.bind(this),bsStyle:"primary",style:{"float":"right",margin:"-15px 0px 10px 0",padding:"5px 15px 5px 15px"}},"添加")}},{key:"render",value:function(){if(this.state.rowList){var e=this.genRows(),t="";return this.props.searchBar&&(t=h["default"].createElement("form",{action:window.location.href.split("?")[0].split("#")[0]},h["default"].createElement(v.Navbar,null,h["default"].createElement(v.Navbar.Header,null,h["default"].createElement(v.Navbar.Brand,null,h["default"].createElement("a",{href:"#",style:{fontSize:16}},"搜索")),h["default"].createElement(v.Navbar.Toggle,null)),h["default"].createElement(v.Navbar.Collapse,null,h["default"].createElement(v.Navbar.Form,{pullLeft:!0},h["default"].createElement(v.FormGroup,null,h["default"].createElement(v.FormControl,{type:"text",name:"q",placeholder:"Search",defaultValue:this.props.keyword}))," ",this.getSelector()," ",h["default"].createElement(v.Button,{type:"submit"},"提交")))))),h["default"].createElement("div",null,t,h["default"].createElement(v.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},h["default"].createElement("thead",null,h["default"].createElement("tr",null,h["default"].createElement("th",{style:{textAlign:"center"}},"序号"),this.vhs)),h["default"].createElement("tbody",null,e)),h["default"].createElement(v.Pagination,{prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,items:this.state.totalPage,maxButtons:5,activePage:this.state.activePage,onSelect:this.handlePageSelect.bind(this),style:{marginTop:"-15px"}}),this.genAddButton())}}}]),t}(p.Component));t["default"]=x,t.Row=_}).call(t,n(18)(e),n(16))},584:function(e,t,n){(function(e,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){return E(k(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var u=n(21),c=a(u),d=n(19),f=a(d),p=n(1),h=a(p),m=n(20),y=a(m),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(11),b=n(13),w=(a(b),{Row:{displayName:"Row"},InvoiceList:{displayName:"InvoiceList"}}),E=(0,y["default"])({filename:"D:/tools/tools/oxchains/InvoiceList.js",components:w,locals:[e],imports:[h["default"]]}),k=(0,f["default"])({filename:"D:/tools/tools/oxchains/InvoiceList.js",components:w,locals:[],imports:[h["default"],c["default"]]}),_=s("Row")(function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={"switch":!1},n.retNum="",n}return o(t,e),g(t,[{key:"getCheckedNum",value:function(){return this.checkbox==checked?this.props.data.number:""}},{key:"render",value:function(){var e=this,t=this.props.filter,n=this.props.data,r=t.map(function(e){return h["default"].createElement("td",{style:{verticalAlign:"middle"}},n[e])});return this.props.editUrl&&r.push(h["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},h["default"].createElement(v.Checkbox,{disabled:"流转中"!=n.status,inputRef:function(t){e.checkbox=t}}))),h["default"].createElement("tr",null,h["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},this.props.rowNo),r,h["default"].createElement("td",{style:{visibility:"hidden",width:"0px",padding:0,margin:0}},h["default"].createElement("img",{style:{"float":"left",minHeight:"40px",visibility:"hidden"}})))}}]),t}(p.Component)),x=s("InvoiceList")(function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={taskState:n.props.state},n.columnKeys=[],n.columnValues=[],n.reimburseList=[];for(var r in n.props.columnFilter)n.columnKeys.push(n.props.columnFilter[r].name),n.columnValues.push(n.props.columnFilter[r].alias);return n.vhs=n.columnValues.map(function(e){return h["default"].createElement("th",{style:{textAlign:"center"}},e)}),n.props.editUrl&&n.vhs.push(h["default"].createElement("th",{style:{textAlign:"center"}},"选择")),n}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"fetchList",value:function(){r.ajax({type:"get",dataType:"json",url:this.props.url,success:function(e){this.setState({rowList:e.data,storedList:e.data})}.bind(this),error:function(e){alert("操作失败")}})}},{key:"getSelector",value:function(){if(!("selector"in this.props))return"";var e=this.props.selector.value.map(function(e){return h["default"].createElement("option",{value:e.value},e.name)});return h["default"].createElement(v.FormControl,{componentClass:"select",placeholder:"type",name:this.props.selector.name,value:this.state.taskState,onChange:this.taskStateChange.bind(this)},e)}},{key:"taskStateChange",value:function(e){console.log(this.state.storedList);var t=e.target.value;if("all"==t)this.setState({rowList:this.state.storedList});else{var n=this.state.storedList.filter(function(e){return e.status==t});this.setState({rowList:n})}}},{key:"genRows",value:function(){var e=this.props.identifier,t=this,n=1;return console.log("----------------------"),console.log(this.state.rowList),this.state.rowList&&this.state.rowList.length>0?this.state.rowList.map(function(r){return h["default"].createElement(_,{ref:"_"+n,data:r,rowNo:n++,filter:t.columnKeys,identifier:e,editUrl:t.props.editUrl})}):h["default"].createElement("tr",null,h["default"].createElement("td",{colSpan:"8"},"数据列表为空！"))}},{key:"reimburse",value:function(){var e="",t="";for(var n in this.refs)if(this.refs[n].checkbox.checked){var r=this.refs[n].props.data;if(e=e+"-"+r.number,"流转中"!=r.status)return void alert("请选择流转中的发票！");if(""==t)t=r.buyerId;else if(t!=r.buyerId)return void alert("请选择相同的单位报销！")}return""==e?void alert("报销列表为空"):void(window.location="/reimburse/add?buyerId="+t+"&list="+e.substring(1))}},{key:"genAddButton",value:function(){return h["default"].createElement(v.Button,{onClick:this.reimburse.bind(this),bsStyle:"primary",style:{"float":"right",margin:"-5px 5px 0px 0",padding:"5px 20px 5px 20px"}},"报销")}},{key:"render",value:function(){if(!this.state.rowList)return h["default"].createElement("div",null);var e=this.genRows(),t="";return this.props.searchBar&&(t=h["default"].createElement("form",{action:window.location.href.split("?")[0].split("#")[0]},h["default"].createElement(v.Navbar,null,h["default"].createElement(v.Navbar.Header,null,h["default"].createElement(v.Navbar.Brand,null,h["default"].createElement("a",{href:"#",style:{fontSize:16}},"筛选：")),h["default"].createElement(v.Navbar.Toggle,null)),h["default"].createElement(v.Navbar.Collapse,null,h["default"].createElement(v.Navbar.Form,{pullLeft:!0}," ",this.getSelector()," "))))),h["default"].createElement("div",null,t,h["default"].createElement(v.Table,{striped:!0,bordered:!0,condensed:!0,hover:!0},h["default"].createElement("thead",null,h["default"].createElement("tr",null,h["default"].createElement("th",{style:{textAlign:"center"}},"序号"),this.vhs)),h["default"].createElement("tbody",null,e)),this.genAddButton())}}]),t}(p.Component));t["default"]=x,t.Row=_}).call(t,n(18)(e),n(16))},586:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return function(t){return k(_(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var s=n(21),u=r(s),c=n(19),d=r(c),f=n(1),p=r(f),h=n(20),m=r(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(11),v=n(13),b=(r(v),n(159)),w=r(b),E={Row:{displayName:"Row"}},k=(0,m["default"])({filename:"D:/tools/tools/oxchains/ReimburseList.js",components:E,locals:[e],imports:[p["default"]]}),_=(0,d["default"])({filename:"D:/tools/tools/oxchains/ReimburseList.js",components:E,locals:[],imports:[p["default"],u["default"]]}),x=o("Row")(function(e){function t(e){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),y(t,[{key:"editRow",value:function(e){window.location.href=this.props.editUrl+"/"+this.props.data[this.props.identifier]+"?pn="+window.location.hash.substring(1)}},{key:"render",value:function(){var e=this.props.filter,t=this.props.data,n=e.map(function(e){return p["default"].createElement("td",{style:{verticalAlign:"middle"}},t[e])});this.props.editUrl&&("individual"!=this.props.type?n.push(p["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},p["default"].createElement(g.Button,{onClick:this.editRow.bind(this)},this.props.editButtonTitle||"处理"))):n.push(p["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},p["default"].createElement(g.Button,{onClick:this.editRow.bind(this)},this.props.editButtonTitle||"查看"))));var r;return"处理中"==t.state?r="danger":"变更中"==t.state&&(r="warning"),p["default"].createElement("tr",{className:r},p["default"].createElement("td",{style:{verticalAlign:"middle",textAlign:"center"}},this.props.rowNo),n,p["default"].createElement("td",{style:{visibility:"hidden",width:"0px",padding:0,margin:0}},p["default"].createElement("img",{style:{"float":"left",minHeight:"40px",visibility:"hidden"}})))}}]),t}(f.Component)),P=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),y(t,[{key:"genRows",value:function(){var e=this.props.identifier,t=this,n=1;return this.state.rowList?this.state.rowList.map(function(r){return p["default"].createElement(x,{ref:"_"+n,data:r,rowNo:n++,filter:t.columnKeys,identifier:e,editUrl:t.props.editUrl,type:t.props.type})}):p["default"].createElement("tr",null,p["default"].createElement("td",{colSpan:"6"},"数据列表为空！"))}}]),t}(w["default"]);t["default"]=P,t.Row=x}).call(t,n(18)(e))}});