webpackJsonp([6],{0:function(e,t,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var o=a(1),n=t(o),r=a(18),l=t(r),i=a(585),s=t(i),u=a(12),p=(t(u),a(11));l["default"].render(n["default"].createElement(p.Grid,null,n["default"].createElement(p.Row,{className:"show-grid"},n["default"].createElement(p.Col,{md:8},n["default"].createElement(p.Panel,{header:pageParas.title},n["default"].createElement("div",{id:"tableRoot"},"loading..."))),n["default"].createElement(p.Col,{xs:10,md:10}))),document.getElementById("root"));var c=e("#tableRoot").get(0);l["default"].render(n["default"].createElement(s["default"],pageParas),c)}).call(t,a(15))},22:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};a.checkDateTime=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"yyyy-mm-dd hh:mm:ss":arguments[1];if("yyyy-mm-dd hh:mm:ss"==t){var a=/^(\d+)-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,o=e.match(a);if(null==o)return!1;o[2]=o[2]-1;var n=new Date(o[1],o[2],o[3],o[4],o[5],o[6]);return n.getFullYear()==o[1]&&(n.getMonth()==o[2]&&(n.getDate()==o[3]&&(n.getHours()==o[4]&&(n.getMinutes()==o[5]&&n.getSeconds()==o[6]))))}if("yyyy-mm-dd"==t){var a=/^(\d+)-(\d{1,2})-(\d{1,2})$/,o=e.match(a);if(null==o)return!1;o[2]=o[2]-1;var n=new Date(o[1],o[2],o[3]);return n.getFullYear()==o[1]&&(n.getMonth()==o[2]&&n.getDate()==o[3])}},t["default"]=a},584:function(e,t,a){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){return S(w(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleInputContainer=void 0;var s=a(21),u=o(s),p=a(19),c=o(p),d=a(1),f=o(d),m=a(20),h=o(m),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),y=a(11),b=a(586),g={SimpleInputContainer:{displayName:"SimpleInputContainer"}},S=(0,h["default"])({filename:"D:/tools/tools/components/general/Container.js",components:g,locals:[e],imports:[f["default"]]}),w=(0,c["default"])({filename:"D:/tools/tools/components/general/Container.js",components:g,locals:[],imports:[f["default"],u["default"]]}),_=i("SimpleInputContainer")(function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),v(t,[{key:"getResult",value:function(){}},{key:"render",value:function(){return f["default"].createElement(y.Col,{sm:10},f["default"].createElement(b.SimpleInput,null))}}]),t}(d.Component));t.SimpleInputContainer=_}).call(t,a(17)(e))},585:function(e,t,a){(function(e,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){return k(O(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditFormWithStandardResp=void 0;var u=a(21),p=n(u),c=a(19),d=n(c),f=a(1),m=n(f),h=a(20),v=n(h),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},b=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),g=a(11),S=a(12),w=n(S),_=a(22),E=(n(_),a(587)),j={EditForm:{displayName:"EditForm"}},k=(0,v["default"])({filename:"D:/tools/tools/components/general/EditForm.js",components:j,locals:[e],imports:[m["default"]]}),O=(0,d["default"])({filename:"D:/tools/tools/components/general/EditForm.js",components:j,locals:[],imports:[m["default"],p["default"]]}),M=s("EditForm")(function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:null,modalShow:!1,redirectFlag:!1},a}return i(t,e),b(t,[{key:"componentDidMount",value:function(){if("put"==this.props.method){var e=this;o.ajax({type:"get",dataType:"json",url:this.props.url,success:function(e){var t=w["default"].fillFormInit(e,this.props.formInit);w["default"].mergeData(t,this.props.formExtend),this.setState({data:t,modalMethod:"alert",modalShow:!1,modalMessage:"操作成功"})}.bind(this),error:function(t){e.setState({modalShow:!1,modalMethod:"alert",modalMessage:"操作失败"})}})}else if("post"==this.props.method){console.log("componentDidMount");var t=this.props.formInit;w["default"].mergeData(t,this.props.formExtend),this.setState({data:t}),console.log(t)}}},{key:"default_success_callback",value:function(e){var t,a={modalMethod:"alert",modalShow:!0};1==e.status?(t="操作成功"+(e.message?":"+e.message:""),a.redirectFlag="true"):t="操作失败"+(e.message?":"+e.message:""),a.modalMessage=t,this.setState(a)}},{key:"ajaxSubmit",value:function(e,t,a){var n=this.default_success_callback.bind(this),r=this;o.ajax({type:e,url:t,data:JSON.stringify(a),dataType:"json",contentType:"application/json",success:n,error:function(e){r.setState({modalMethod:"alert",modalShow:!0,modalMessage:"操作失败"})}})}},{key:"submit",value:function(){var e=this.dataWrap();this.validate()&&this.ajaxSubmit(this.props.method,this.props.url,e)}},{key:"dataWrap",value:function(){var e={},t=this.refs;for(var a in t)Object.assign(e,t[a].getResult());return e}},{key:"confirm",value:function(){"update"==this.state.modalMethod?this.submit():"delete"==this.state.modalMethod&&this["delete"](),this.setState({modalShow:!1})}},{key:"closeModal",value:function(){this.setState({modalShow:!1}),this.state.redirectFlag&&(this.props.redirectUrl?window.location=this.props.redirectUrl:location.reload())}},{key:"validate",value:function(){var e=this.refs,t=!0;for(var a in e)0==e[a].validate()&&(t=!1);return t}},{key:"delete",value:function(){var e=this.dataWrap();this.ajaxSubmit("delete",this.props.url,e)}},{key:"genRows",value:function(e){return e.map(function(e){return m["default"].createElement(E.SimpleRow,y({ref:e.name},e))})}},{key:"genButtons",value:function(){var e=this;if(1!=this.props.noButton)return"put"==this.props.method?m["default"].createElement("div",null,m["default"].createElement(g.Button,{onClick:function(){return e.setState({modalShow:!0,modalMessage:"确认修改?",modalMethod:"update"})},bsStyle:"primary",style:{marginTop:"10px"}},"修改"),m["default"].createElement(g.Button,{onClick:function(){return e.setState({modalShow:!0,modalMessage:"确认删除?",modalMethod:"delete"})},style:{margin:"10px 0 0 20px"}},"删除")):"post"==this.props.method?m["default"].createElement("div",null,m["default"].createElement(g.Button,{onClick:this.submit.bind(this),bsStyle:"primary",style:{marginTop:"10px",padding:"5px 20px 5px 20px"}},"确认")):void 0}},{key:"render",value:function(){var e,t;e=this.genButtons(),t="alert"==this.state.modalMethod?m["default"].createElement(g.Button,{onClick:this.closeModal.bind(this)},"关闭"):m["default"].createElement("div",null,m["default"].createElement(g.Button,{bsStyle:"primary",onClick:this.confirm.bind(this)},"确认"),m["default"].createElement(g.Button,{onClick:this.closeModal.bind(this)},"关闭"));var a=this.state.data;if(!a)return m["default"].createElement("div",null,"loading...");var o=this.genRows(a);return m["default"].createElement("form",null,o,m["default"].createElement(g.FormGroup,null,m["default"].createElement(g.Col,{md:12,lg:12,style:{textAlign:"center"}},e)),m["default"].createElement("div",{className:"modal-container"},m["default"].createElement(g.Modal,{show:this.state.modalShow,onHide:this.closeModal.bind(this),container:this,"aria-labelledby":"contained-modal-title"},m["default"].createElement(g.Modal.Body,null,this.state.modalMessage),m["default"].createElement(g.Modal.Footer,{style:{textAlign:"center"}},t))))}}]),t}(f.Component)),C=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),b(t,[{key:"componentDidMount",value:function(){if("put"==this.props.method){var e=this;o.ajax({type:"get",dataType:"json",url:this.props.url,success:function(e){var t=w["default"].fillFormInit(e.data,this.props.formInit);w["default"].mergeData(t,this.props.formExtend),this.setState({data:t,modalMethod:"alert",modalShow:!1,modalMessage:"操作成功"})}.bind(this),error:function(t){e.setState({modalShow:!1,modalMethod:"alert",modalMessage:"操作失败"})}})}else if("post"==this.props.method){var t=this.props.formInit;w["default"].mergeData(t,this.props.formExtend),this.setState({data:t})}}}]),t}(M);t["default"]=M,t.EditFormWithStandardResp=C}).call(t,a(17)(e),a(15))},586:function(e,t,a){(function(e,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){return j(k(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleInput=void 0;var u=a(21),p=n(u),c=a(19),d=n(c),f=a(1),m=n(f),h=a(20),v=n(h),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},b=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),g=a(11),S=a(12),w=(n(S),a(22)),_=n(w),E={SimpleInput:{displayName:"SimpleInput"}},j=(0,v["default"])({filename:"D:/tools/tools/components/general/Input.js",components:E,locals:[e],imports:[m["default"]]}),k=(0,d["default"])({filename:"D:/tools/tools/components/general/Input.js",components:E,locals:[],imports:[m["default"],p["default"]]}),O=s("SimpleInput")(function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.result={};var o="unknown";a.props.validator||(o="");var n={name:a.props.name,value:a.props.value,validateState:o};return a.props.type&&"select"==a.props.type&&(n.value=n.value||a.props.options[0]),a.props.type&&"checkbox"==a.props.type&&(n.value=n.value||0),a.state={data:n},a}return i(t,e),b(t,[{key:"componentDidMount",value:function(){}},{key:"validate",value:function(){var e=this.state.data;if("error"==e.validateState)return!1;if("unknown"==e.validateState){this.validateAndSetState(e);return"error"!=e.validateState}return!0}},{key:"changeValue",value:function(e){if(this.props.onChange)return void this.props.onChange(e);var t=this.state.data;t.value=e.target.value,this.validateAndSetState(t)}},{key:"onCheck",value:function(e){var t=this.state.data;t.value=e.target.checked,t.value?t.value=1:t.value=0,this.setState({data:t})}},{key:"validateAndSetState",value:function(e){var t=this.validateByValue(e.value);return Object.assign(e,t),this.setState({data:e}),t}},{key:"validateByValue",value:function(e){if(!this.props.validator)return!0;var t={errorMessage:"",validateState:""};if(1==this.props.validator.notNull&&""===o.trim(e)&&(t.validateState="error",t.errorMessage="字段不能为空"),this.props.validator.dataType)switch(this.props.validator.dataType){case"number":""!=!e||o.isNumeric(e)||(t.validateState="error",t.errorMessage="请填写数字");break;case"email":var a=/.*@.+\..+/;""!=!e||a.test(e)||(t.validateState="error",t.errorMessage="请填写正确邮箱格式");break;case"mobile":o.isNumeric(e)&&11==e.length||(t.validateState="error",t.errorMessage="请填写正确的手机号码");break;case"time":_["default"].checkDateTime(e,this.props.validator.pattern)||(t.validateState="error",t.errorMessage="请填写正确时间类型，例如:2016-01-01")}var n,r;return(n=this.props.validator.minLength)&&e&&e.length<n&&(t.validateState="error",t.errorMessage="字段最小长度应大于"+n),(r=this.props.validator.maxLength)&&e&&e.length>r&&(t.validateState="error",t.errorMessage="字段最大长度不能大于"+r),t.value=e,t}},{key:"getResult",value:function(){var e={};return e[this.state.data.name]=this.state.data.value,e}},{key:"render",value:function(){var e,t=this,a=this.props.type,o={placeholder:this.props.placeholder,defaultValue:this.props.value,name:this.props.name,type:a,style:{marginTop:"5px"}},n={overflow:"hidden",margin:"10px 0"};if(a)switch(a){case"delete":return null;case"textArea":case"textarea":o.componentClass="textarea";break;case"checkbox":o={},o.componentClass="checkbox";var r=[];return"1"!=this.props.value&&1!=this.props.value&&1!=this.props.value||(r.checked="true"),this.props.readOnly&&(r.disabled="disabled"),m["default"].createElement(g.FormGroup,{bgSize:"lg",controlId:this.props.id,style:n,validationState:this.state.data.validateState},m["default"].createElement(g.Col,{sm:2,style:{textAlign:"right",paddingTop:"10px"},componentClass:g.ControlLabel},l,this.props.alias||this.props.name),m["default"].createElement(g.Col,{sm:10},m["default"].createElement(g.Checkbox,y({name:this.props.name,onClick:this.onCheck.bind(this),style:{marginLeft:"10px"}},r),"点选",r)));case"readOnly":o.value=o.defaultValue,delete o.defaultValue,o.readOnly=!0;break;case"hidden":n.display="none",o.type="hidden";break;case"select":o.componentClass="select",e=this.props.options.map(function(e,t){return m["default"].createElement("option",{value:e},e)})}else o.type="text";this.props.readOnly&&(o.value=o.defaultValue,delete o.defaultValue,o.readOnly=!0);var l="";return this.props.validator&&this.props.validator.notNull&&(l="* "),m["default"].createElement("div",null,m["default"].createElement(g.FormControl,y({},o,{onChange:this.changeValue.bind(this),inputRef:function(e){t.input=e}}),e),m["default"].createElement(g.HelpBlock,null,this.state.data.errorMessage),m["default"].createElement(g.FormControl.Feedback,{style:{right:"15px",top:"4px"}}))}}]),t}(f.Component));t.SimpleInput=O}).call(t,a(17)(e),a(15))},587:function(e,t,a){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){return w(_(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleRow=void 0;var s=a(21),u=o(s),p=a(19),c=o(p),d=a(1),f=o(d),m=a(20),h=o(m),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),y=a(11),b=a(588),g=a(584),S={SimpleRow:{displayName:"SimpleRow"}},w=(0,h["default"])({filename:"D:/tools/tools/components/general/Row.js",components:S,locals:[e],imports:[f["default"]]}),_=(0,c["default"])({filename:"D:/tools/tools/components/general/Row.js",components:S,locals:[],imports:[f["default"],u["default"]]}),E=i("SimpleRow")(function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.result={},a.state={data:null},a}return l(t,e),v(t,[{key:"componentDidMount",value:function(e){var t=[];t.push({value:this.props.value,type:this.props.selectorValue||this.props.category||this.props.type||this.props.selector[0],validateState:""});var a={name:this.props.name};a.value=t,this.setState({data:a})}},{key:"getResult",value:function(){}},{key:"render",value:function(){var e={overflow:"hidden",margin:"10px 0"},t=!1;return this.props.validator&&this.props.validator.notNull&&(t=!0),f["default"].createElement(y.FormGroup,{bgSize:"lg",controlId:this.props.id,style:e},f["default"].createElement(b.Title,{value:this.props.alias||this.props.name}),f["default"].createElement(g.SimpleInputContainer,this.props))}}]),t}(d.Component));t.SimpleRow=E}).call(t,a(17)(e))},588:function(e,t,a){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){return g(S(t,e),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Title=void 0;var s=a(21),u=o(s),p=a(19),c=o(p),d=a(1),f=o(d),m=a(20),h=o(m),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),y=a(11),b={Title:{displayName:"Title"}},g=(0,h["default"])({filename:"D:/tools/tools/components/general/Title.js",components:b,locals:[e],imports:[f["default"]]}),S=(0,c["default"])({filename:"D:/tools/tools/components/general/Title.js",components:b,locals:[],imports:[f["default"],u["default"]]}),w=i("Title")(function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),v(t,[{key:"render",value:function(){var e="";this.props.notNull&&1==this.props.notNull&&(e="* ");var t=this.props.type,a={placeholder:this.props.placeholder,defaultValue:this.props.value,name:this.props.name,type:t,style:{marginTop:"5px"}};if(t)switch(t){case"hidden":style.display="none",a.type="hidden"}return f["default"].createElement(y.Col,{sm:2,style:{textAlign:"right",paddingTop:"10px"},componentClass:y.ControlLabel},this.props.value)}}]),t}(d.Component));t.Title=w}).call(t,a(17)(e))}});